import{_ as o,r as i,o as r,c as d,a as s,d as a,w as t,f as c,b as e,e as p}from"./app-DbfwKMkm.js";const h={},k={class:"table-of-contents"},u=s("p",null,"ä¸€æ‹›æ•™ä½ è§£å†³Vercel deployæ—¶æ€»æ˜¯ä»»æ„åˆ†æ”¯éƒ½å¯ä»¥è§¦å‘ï¼Œå¦‚æœä½ çš„é¡¹ç›®æœ‰å¤šä¸ªåˆ†æ”¯ï¼Œå¯ä»¥æŒ‡å®šæŸä¸€ä¸ªæˆ–å‡ ä¸ªæœ‰æäº¤æ—¶è§¦å‘deploy",-1),_=p(`<h2 id="_1-å‰è¨€" tabindex="-1"><a class="header-anchor" href="#_1-å‰è¨€"><span>1. å‰è¨€</span></a></h2><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>è¿™ä¸æ˜¯åˆšæŠŠåšå®¢éƒ¨ç½²ä»GitHub Pagesè½¬ç§»åˆ°äº†Vercelä¸Šï¼Œç¨å¾®åŠ å¿«äº†ä¸€ç‚¹å›½å†…çš„è®¿é—®é€Ÿåº¦ï¼Œç„¶åå‘ç°äº†ä¸€ä¸ªæ–°é—®é¢˜~</p><p>åŸå…ˆæ˜¯æ¨é€åˆ°<code>main</code>åˆ†ä¹‹ï¼Œé€šè¿‡Github Action å·¥ä½œæµè¿›è¡Œéƒ¨ç½²åˆ°<code>gh-page</code> åˆ†æ”¯ä¸Š</p><p>è½¬ç§»åˆ°Vercelä¹‹åï¼Œå·¥ä½œæµæˆ‘å¹¶æ²¡æœ‰åˆ æ‰ï¼Œæ‰€ä»¥æµç¨‹è¿˜æ˜¯ä¸€æ ·ï¼Œå°±å¯¼è‡´<code>main</code>æäº¤äº†---&gt;Action----&gt;<code>gh-page</code>æäº¤</p><p>ä¼šè§¦å‘ä¸¤æ¬¡Vercelçš„éƒ¨ç½²ï¼Œå½“ç„¶<code>gh-page</code>æ˜¯å­˜æ”¾é™æ€é¡µé¢çš„åˆ†æ”¯ï¼Œbuidè‚¯å®šæ˜¯å¤±è´¥çš„ã€‚ä¸‹è¾¹æ¥è§£å†³è¿™ä¸ªé—®é¢˜å§</p></div><h2 id="_2-æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#_2-æ­¥éª¤"><span>2. æ­¥éª¤</span></a></h2><p>å¦‚å›¾æ‰€ç¤ºï¼Œæ‰“å¼€setting-Git-Ignored Build Step</p><p>å¯ç”¨â€œå¿½ç•¥æ„å»ºæ­¥éª¤â€å­—æ®µã€‚å¦‚æœå‘½ä»¤è¿”å›â€œ0â€ï¼Œåˆ™å°†è·³è¿‡æ„å»ºã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿”å›ä»£ç â€œ1â€æˆ–æ›´å¤§ï¼Œåˆ™å°†ç”Ÿæˆæ–°çš„éƒ¨ç½²ã€‚</p><p>æˆ‘æ˜¯ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡æ¥åšçš„ï¼Œæ–¹å¼æœ‰å¾ˆå¤šï¼Œçœ‹è‡ªå·±æ–¹ä¾¿å§ï¼Œåœ¨Commandå¤„è¾“å…¥ä»¥ä¸‹è„šæœ¬è¡¨ç¤ºåªæ„å»ºmainåˆ†æ”¯</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes one-dark-pro one-dark-pro" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [ </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$VERCEL_GIT_COMMIT_REF</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;main&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ]; </span><span style="color:#C678DD;--shiki-dark:#C678DD;">then</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">; </span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">; </span><span style="color:#C678DD;--shiki-dark:#C678DD;">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç³»ç»Ÿç¯å¢ƒå˜é‡é»˜è®¤æ˜¯æ›å…‰çš„ï¼Œå¦‚æœä¸ç”Ÿæ•ˆï¼Œåœ¨Environment Variables ä¸­å‹¾é€‰</p><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> Automatically expose System Environment Variables</label></li></ul><figure><img src="https://s3.bmp.ovh/imgs/2023/03/31/5ae4ba35bd181dcf.png" alt="setting-Git-Ignored Build Step" tabindex="0" loading="lazy"><figcaption>setting-Git-Ignored Build Step</figcaption></figure><h2 id="_3-ä½¿ç”¨è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#_3-ä½¿ç”¨è„šæœ¬"><span>3. ä½¿ç”¨è„šæœ¬</span></a></h2><p>è¦åœ¨â€œå¿½ç•¥æ„å»ºæ­¥éª¤â€ä¸­è¿è¡Œ bash è„šæœ¬ï¼Œæ‚¨éœ€è¦åœ¨è¯¥å­—æ®µä¸­è®¾ç½®ä»¥ä¸‹å†…å®¹ï¼šè¯·æ³¨æ„è¯¥æ–‡ä»¶åº”è¯¥å­˜åœ¨äºæ‚¨çš„å­˜å‚¨åº“ä¸­ã€‚ bash è„šæœ¬ç¤ºä¾‹ï¼š bash script.shbash è„šæœ¬çš„ç¤ºä¾‹ï¼š<code>bash script.sh</code></p><p><strong>æ³¨æ„</strong> æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ Node è„šæœ¬ï¼ˆä¾‹å¦‚ ï¼‰ã€‚<code>node ignore-step.js</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes one-dark-pro one-dark-pro" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">echo</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;VERCEL_ENV: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">$VERCEL_ENV</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [[ </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$VERCEL_ENV</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;production&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ]] ; </span><span style="color:#C678DD;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  # Proceed with the build</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  echo</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;âœ… - Build can proceed&quot;</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  # Don&#39;t build</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  echo</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;ğŸ›‘ - Build cancelled&quot;</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ªç¤ºä¾‹ Ignored Build Step è„šæœ¬ï¼Œå…¶ä¸­åªå…è®¸éƒ¨ç½²å¯¹ç”Ÿäº§ç¯å¢ƒæ‰€åšçš„æäº¤ã€‚åº”å°†ç¯å¢ƒå˜é‡â€œVERCEL_ENVâ€æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚</p><p>é€šè¿‡ä½¿ç”¨æ­¤å‘½ä»¤ï¼ŒVercel å°†ä»…åœ¨â€œVERCEL_ENVâ€çš„å€¼ä¸ºâ€œproductionâ€æ—¶æ„å»ºéƒ¨ç½²ã€‚è¯¥å˜é‡å·²æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ UIï¼Œä½¿å…¶å¯ç”¨äºé¡¹ç›®ã€‚</p><h2 id="_4-ä½¿ç”¨ç¯å¢ƒå˜é‡" tabindex="-1"><a class="header-anchor" href="#_4-ä½¿ç”¨ç¯å¢ƒå˜é‡"><span>4. <a href="#_7-%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%80%E8%A7%88%E8%A1%A8">ä½¿ç”¨ç¯å¢ƒå˜é‡</a></span></a></h2><p>æ‚¨å¯ä»¥ç›´æ¥åœ¨ Ignored Build Step å­—æ®µä¸­åˆ›å»ºå¼•ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡çš„å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes one-dark-pro one-dark-pro" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [ </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$VERCEL_ENV</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;production&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ]; </span><span style="color:#C678DD;--shiki-dark:#C678DD;">then</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">; </span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">; </span><span style="color:#C678DD;--shiki-dark:#C678DD;">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸€ä¸ªç¤ºä¾‹ Ignored Build Step å‘½ä»¤ï¼Œå…¶ä¸­åªå…è®¸éƒ¨ç½²å¯¹ç”Ÿäº§ç¯å¢ƒæ‰€åšçš„æäº¤ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæœ¬ï¼Œå®ƒå°†æœ‰æ¡ä»¶åœ°æ„å»ºæŸäº›åˆ†æ”¯ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes one-dark-pro one-dark-pro" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">echo</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;VERCEL_GIT_COMMIT_REF: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">$VERCEL_GIT_COMMIT_REF</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [[ </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$VERCEL_GIT_COMMIT_REF</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;staging&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ||</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$VERCEL_GIT_COMMIT_REF</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;main&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  ]] ; </span><span style="color:#C678DD;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  # Proceed with the build</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">    echo</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;âœ… - Build can proceed&quot;</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  # Don&#39;t build</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  echo</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;ğŸ›‘ - Build cancelled&quot;</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ªç¤ºä¾‹ Ignored Build Step å‘½ä»¤ï¼Œå…¶ä¸­åªå…è®¸éƒ¨ç½²ä»åˆ†æ”¯â€œmainâ€å’Œâ€œstagingâ€è¿›è¡Œçš„æäº¤ã€‚</p><h2 id="_5-ä½¿ç”¨æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº" tabindex="-1"><a class="header-anchor" href="#_5-ä½¿ç”¨æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº"><span>5. ä½¿ç”¨æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº</span></a></h2><p>åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·è®°ä½ Ignored Build Step åœ¨æ‚¨é€‰æ‹©çš„â€œæ ¹ç›®å½•â€çš„åŒä¸€æ–‡ä»¶å¤¹ä¸­è¿è¡Œã€‚å› æ­¤ï¼Œæ‚¨å¯èƒ½éœ€è¦ç¨å¾®è°ƒæ•´ä¸€ä¸‹ä»¥é€‚åº”æ‚¨çš„éœ€è¦ã€‚è¦æ„å»ºä»…è€ƒè™‘ç‰¹å®šæ–‡ä»¶å¤¹çš„æ–°éƒ¨ç½²ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes one-dark-pro one-dark-pro" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">git</span><span style="color:#98C379;--shiki-dark:#98C379;"> diff</span><span style="color:#98C379;--shiki-dark:#98C379;"> HEAD^</span><span style="color:#98C379;--shiki-dark:#98C379;"> HEAD</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> --quiet</span><span style="color:#98C379;--shiki-dark:#98C379;"> ./packages/frontend/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>â€œå¿½ç•¥æ„å»ºæ­¥éª¤â€å‘½ä»¤çš„ç¤ºä¾‹ã€‚å¦‚æœå°†æ›´æ”¹æäº¤ç»™â€œ./packages/frontend/â€ï¼Œè¯¥å‘½ä»¤å°†äº§ç”Ÿä¸€ä¸ªéç©ºå“åº”ï¼Œä»è€Œå…è®¸æ„å»ºç»§ç»­è¿›è¡Œã€‚<br> é€šè¿‡ä½¿ç”¨æ­¤å‘½ä»¤ï¼ŒVercel å°†ä»…åœ¨ç›®å½•å†…è¿›è¡Œæ›´æ”¹æ—¶æ„å»ºéƒ¨ç½²ã€‚å¦‚æœè¯¥æ–‡ä»¶å¤¹æ˜¯æ‚¨é€‰æ‹©çš„â€œæ ¹ç›®å½•â€ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ï¼š<code>packages/frontend/\`\`./packages/frontend/</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes one-dark-pro one-dark-pro" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">git</span><span style="color:#98C379;--shiki-dark:#98C379;"> diff</span><span style="color:#98C379;--shiki-dark:#98C379;"> HEAD^</span><span style="color:#98C379;--shiki-dark:#98C379;"> HEAD</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> --quiet</span><span style="color:#98C379;--shiki-dark:#98C379;"> .</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>â€œå¿½ç•¥çš„ç”Ÿæˆæ­¥éª¤â€å‘½ä»¤çš„ç¤ºä¾‹ã€‚å¦‚æœå°†æ›´æ”¹æäº¤åˆ° â€œ.â€ï¼Œåˆ™è¯¥å‘½ä»¤å°†ç”Ÿæˆéç©ºå“åº”ï¼Œä»è€Œå…è®¸ç»§ç»­ç”Ÿæˆã€‚</p><p>æ‚¨è¿˜å¯ä»¥è®¿é—®éƒ¨ç½²ä¸­çš„å…¶ä»–æ–‡ä»¶å¤¹ä»¥æ£€æŸ¥æ›´æ”¹ã€‚å¦‚æœæ‚¨åœ¨æ„å»ºå‰ç«¯æ—¶é€‰æ‹©äº†â€œæ ¹ç›®å½•â€ï¼Œå¹¶ä¸”æ‚¨çš„åº”ç”¨ç¨‹åºå¿…é¡»ä»…åœ¨è¿›è¡Œæ›´æ”¹æ—¶éƒ¨ç½²ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ï¼š <code>packages/web</code> <code>../../packages/docs</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes one-dark-pro one-dark-pro" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">git</span><span style="color:#98C379;--shiki-dark:#98C379;"> diff</span><span style="color:#98C379;--shiki-dark:#98C379;"> HEAD^</span><span style="color:#98C379;--shiki-dark:#98C379;"> HEAD</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> --quiet</span><span style="color:#98C379;--shiki-dark:#98C379;"> ../../packages/docs</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>â€œå¿½ç•¥çš„ç”Ÿæˆæ­¥éª¤â€å‘½ä»¤çš„ç¤ºä¾‹ã€‚å¦‚æœå°†æ›´æ”¹æäº¤åˆ°â€œ../../packages/docsâ€œï¼Œè¯¥å‘½ä»¤å°†äº§ç”Ÿä¸€ä¸ªéç©ºå“åº”ï¼Œå…è®¸æ„å»ºç»§ç»­ã€‚</p><h2 id="_6-åœ¨æœ¬åœ°è°ƒè¯•å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_6-åœ¨æœ¬åœ°è°ƒè¯•å‘½ä»¤"><span>6. åœ¨æœ¬åœ°è°ƒè¯•å‘½ä»¤</span></a></h2><p>è¦åœ¨æœ¬åœ°è°ƒè¯•å¿½ç•¥çš„æ„å»ºæ­¥éª¤å‘½ä»¤ï¼Œé¦–å…ˆä½¿ç”¨å¯ä»¥å¤åˆ¶ Vercel ä¸Šå¯ç”¨è®¾ç½®çš„æ–‡ä»¶å¤¹éå¸¸é‡è¦ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥åº”ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>ä½¿ç”¨ å°†å­˜å‚¨åº“å…‹éš†åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚<code>git clone --depth=10 (...)</code></li><li>åœ¨ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤æˆ–è„šæœ¬ã€‚</li><li>æ‚¨å¯ä»¥ä½¿ç”¨ æ£€æŸ¥æœ€åä¸€ä¸ªå‘½ä»¤è¿”å›çš„é€€å‡ºä»£ç ã€‚<code>echo $?</code></li></ol><h2 id="_7-ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨" tabindex="-1"><a class="header-anchor" href="#_7-ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨"><span>7. ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨</span></a></h2>`,36),y=s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"left"}},"åå­—"),s("th",{style:{"text-align":"left"}},"æè¿°")])],-1),C=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL")]),s("td",{style:{"text-align":"left"}},[e("æŒ‡ç¤ºåº”ç”¨å·²åœ¨ Vercel ä¸Šéƒ¨ç½²å’Œè¿è¡Œçš„æŒ‡ç¤ºå™¨ã€‚ ä¾‹ï¼šã€‚"),s("code",null,"1")])],-1),b=s("td",{style:{"text-align":"left"}},[s("code",null,"CI")],-1),g={style:{"text-align":"left"}},B={href:"https://en.wikipedia.org/wiki/Continuous_integration",target:"_blank",rel:"noopener noreferrer"},m=s("strong",null,"æ³¨æ„ï¼š",-1),f={href:"https://vercel.com/docs/concepts/deployments/configure-a-build",target:"_blank",rel:"noopener noreferrer"},v=s("code",null,"1",-1),E=s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_ENV")],-1),D={style:{"text-align":"left"}},A={href:"https://vercel.com/docs/concepts/projects/environment-variables#environments",target:"_blank",rel:"noopener noreferrer"},x=s("code",null,"production``preview``development",-1),F=s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_URL")],-1),V={style:{"text-align":"left"}},I={href:"https://vercel.com/docs/concepts/deployments/generated-urls",target:"_blank",rel:"noopener noreferrer"},R=s("code",null,"*.vercel.app``https://",-1),T=s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_REGION")],-1),q={style:{"text-align":"left"}},L={href:"https://vercel.com/docs/concepts/edge-network/regions",target:"_blank",rel:"noopener noreferrer"},G=s("strong",null,"æ³¨æ„ï¼š",-1),O={href:"https://vercel.com/docs/concepts/functions",target:"_blank",rel:"noopener noreferrer"},M=s("code",null,"cdg1",-1),S=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_PROVIDER")]),s("td",{style:{"text-align":"left"}},[e("ä»ä¸­è§¦å‘éƒ¨ç½²çš„ Git æä¾›ç¨‹åºã€‚ ä¾‹ï¼šã€‚"),s("code",null,"github")])],-1),N=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_REPO_SLUG")]),s("td",{style:{"text-align":"left"}},[e("ä»ä¸­è§¦å‘éƒ¨ç½²çš„æºå­˜å‚¨åº“ã€‚ ä¾‹ï¼šã€‚"),s("code",null,"my-site")])],-1),H=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_REPO_OWNER")]),s("td",{style:{"text-align":"left"}},[e("æ‹¥æœ‰ä»ä¸­è§¦å‘éƒ¨ç½²çš„å­˜å‚¨åº“çš„å¸æˆ·ã€‚ ä¾‹ï¼šã€‚"),s("code",null,"acme")])],-1),P=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_REPO_ID")]),s("td",{style:{"text-align":"left"}},[e("ä»ä¸­è§¦å‘éƒ¨ç½²çš„å­˜å‚¨åº“çš„ IDã€‚ ä¾‹ï¼šã€‚"),s("code",null,"117716146")])],-1),w=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("mark",null,[s("code",null,"VERCEL_GIT_COMMIT_REF")])]),s("td",{style:{"text-align":"left"}},[e("è§¦å‘éƒ¨ç½²çš„æäº¤çš„ git åˆ†æ”¯ã€‚ ä¾‹ï¼šã€‚"),s("code",null,"improve-about-page")])],-1),U=s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_COMMIT_SHA")],-1),$={style:{"text-align":"left"}},Z={href:"https://help.github.com/articles/github-glossary/#commit",target:"_blank",rel:"noopener noreferrer"},j=s("code",null,"fa1eade47b73733d6312d5abfad33ce9e4068081",-1),z=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_COMMIT_MESSAGE")]),s("td",{style:{"text-align":"left"}},[e("é™„åŠ åˆ°è§¦å‘éƒ¨ç½²çš„æäº¤çš„æ¶ˆæ¯ã€‚ ä¾‹ï¼šã€‚"),s("code",null,"Update about page")])],-1),J=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_COMMIT_AUTHOR_LOGIN")]),s("td",{style:{"text-align":"left"}},[e("é™„åŠ åˆ°éƒ¨ç½²é¡¹ç›®çš„æäº¤ä½œè€…çš„ç”¨æˆ·åã€‚ ä¾‹ï¼šã€‚"),s("code",null,"johndoe")])],-1),Q=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_COMMIT_AUTHOR_NAME")]),s("td",{style:{"text-align":"left"}},[e("é™„åŠ åˆ°éƒ¨ç½²é¡¹ç›®çš„æäº¤çš„ä½œè€…çš„åç§°ã€‚ ä¾‹ï¼šã€‚"),s("code",null,"John Doe")])],-1),W=s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_PREVIOUS_SHA")],-1),K={style:{"text-align":"left"}},X={href:"https://help.github.com/articles/github-glossary/#commit",target:"_blank",rel:"noopener noreferrer"},Y=s("strong",null,"æ³¨æ„ï¼š",-1),ss={href:"https://vercel.com/docs/concepts/projects/overview#ignored-build-step",target:"_blank",rel:"noopener noreferrer"},es=s("code",null,"fa1eade47b73733d6312d5abfad33ce9e4068080",-1),as=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"VERCEL_GIT_PULL_REQUEST_ID")]),s("td",{style:{"text-align":"left"}},[e("è§¦å‘éƒ¨ç½²çš„æ‹‰å–è¯·æ±‚ IDã€‚å¦‚æœåœ¨å‘å‡ºæ‹‰å–è¯·æ±‚ä¹‹å‰åœ¨åˆ†æ”¯ä¸Šåˆ›å»ºäº†éƒ¨ç½²ï¼Œåˆ™æ­¤å€¼å°†ä¸ºç©ºå­—ç¬¦ä¸²ã€‚ ä¾‹ï¼šã€‚"),s("code",null,"23")])],-1);function ls(ns,ts){const n=i("router-link"),l=i("ExternalLinkIcon");return r(),d("div",null,[s("nav",k,[s("ul",null,[s("li",null,[a(n,{to:"#_1-å‰è¨€"},{default:t(()=>[e("1. å‰è¨€")]),_:1})]),s("li",null,[a(n,{to:"#_2-æ­¥éª¤"},{default:t(()=>[e("2. æ­¥éª¤")]),_:1})]),s("li",null,[a(n,{to:"#_3-ä½¿ç”¨è„šæœ¬"},{default:t(()=>[e("3. ä½¿ç”¨è„šæœ¬")]),_:1})]),s("li",null,[a(n,{to:"#_4-ä½¿ç”¨ç¯å¢ƒå˜é‡"},{default:t(()=>[e("4. ä½¿ç”¨ç¯å¢ƒå˜é‡")]),_:1})]),s("li",null,[a(n,{to:"#_5-ä½¿ç”¨æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº"},{default:t(()=>[e("5. ä½¿ç”¨æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº")]),_:1})]),s("li",null,[a(n,{to:"#_6-åœ¨æœ¬åœ°è°ƒè¯•å‘½ä»¤"},{default:t(()=>[e("6. åœ¨æœ¬åœ°è°ƒè¯•å‘½ä»¤")]),_:1})]),s("li",null,[a(n,{to:"#_7-ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨"},{default:t(()=>[e("7. ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨")]),_:1})])])]),u,c(" more "),_,s("table",null,[y,s("tbody",null,[C,s("tr",null,[b,s("td",g,[e("æŒ‡ç¤ºä»£ç åœ¨"),s("a",B,[e("æŒç»­é›†æˆ"),a(l)]),e("ç¯å¢ƒä¸­è¿è¡Œçš„æŒ‡ç¤ºå™¨ã€‚ ä¾‹ï¼šã€‚ "),m,e(" æ­¤å˜é‡ä»…åœ¨"),s("a",f,[e("æ„å»ºæ­¥éª¤"),a(l)]),e("æœŸé—´å…¬å¼€ã€‚"),v])]),s("tr",null,[E,s("td",D,[e("éƒ¨ç½²å’Œè¿è¡Œåº”ç”¨"),s("a",A,[e("çš„ç¯å¢ƒ"),a(l)]),e("ã€‚è¯¥å€¼å¯ä»¥æ˜¯ ã€ æˆ– ã€‚"),x])]),s("tr",null,[F,s("td",V,[s("a",I,[e("ç”Ÿæˆçš„éƒ¨ç½² URL"),a(l)]),e(" çš„åŸŸåã€‚ä¾‹ï¼šã€‚è¯¥å€¼ä¸åŒ…æ‹¬åè®®æ–¹æ¡ˆã€‚"),R])]),s("tr",null,[T,s("td",q,[e("è¿è¡Œåº”ç”¨çš„"),s("a",L,[e("åŒºåŸŸçš„"),a(l)]),e(" IDã€‚ ä¾‹ï¼šã€‚ "),G,e(" æ­¤å˜é‡ä»…åœ¨"),s("a",O,[e("æ— æœåŠ¡å™¨å‡½æ•°"),a(l)]),e("çš„è¿è¡Œæ—¶å…¬å¼€ã€‚"),M])]),S,N,H,P,w,s("tr",null,[U,s("td",$,[e("è§¦å‘éƒ¨ç½²çš„æäº¤çš„ git "),s("a",Z,[e("SHA"),a(l)]),e("ã€‚ ä¾‹ï¼šã€‚"),j])]),z,J,Q,s("tr",null,[W,s("td",K,[e("é¡¹ç›®å’Œåˆ†æ”¯çš„ä¸Šæ¬¡æˆåŠŸéƒ¨ç½²çš„ git "),s("a",X,[e("SHA"),a(l)]),e("ã€‚ ä¾‹ï¼šã€‚ "),Y,e(" ä»…å½“æä¾›äº†"),s("a",ss,[e("å¿½ç•¥çš„ç”Ÿæˆæ­¥éª¤"),a(l)]),e("æ—¶ï¼Œæ‰ä¼šå…¬å¼€æ­¤å˜é‡ã€‚"),es])]),as])])])}const os=o(h,[["render",ls],["__file","vercel-deploy.html.vue"]]),rs=JSON.parse(`{"path":"/tutorial/CI_CD/vercel-deploy.html","title":"Vercel deployå¿½ç•¥æŒ‡å®šåˆ†æ”¯","lang":"zh-CN","frontmatter":{"title":"Vercel deployå¿½ç•¥æŒ‡å®šåˆ†æ”¯","icon":"launch","description":"Vercel Ignored Build Stepä½¿ç”¨","date":"2023-03-31T00:00:00.000Z","star":true,"isOriginal":true,"order":2,"category":["Vercel"],"tag":["Vercel"],"head":[["meta",{"property":"og:url","content":"https://oragekk.me/tutorial/CI_CD/vercel-deploy.html"}],["meta",{"property":"og:site_name","content":"Oragekk's Blog"}],["meta",{"property":"og:title","content":"Vercel deployå¿½ç•¥æŒ‡å®šåˆ†æ”¯"}],["meta",{"property":"og:description","content":"Vercel Ignored Build Stepä½¿ç”¨"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://s3.bmp.ovh/imgs/2023/03/31/5ae4ba35bd181dcf.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-01-12T03:45:54.000Z"}],["meta",{"property":"article:author","content":"Oragekk"}],["meta",{"property":"article:tag","content":"Vercel"}],["meta",{"property":"article:published_time","content":"2023-03-31T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-01-12T03:45:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Vercel deployå¿½ç•¥æŒ‡å®šåˆ†æ”¯\\",\\"image\\":[\\"https://s3.bmp.ovh/imgs/2023/03/31/5ae4ba35bd181dcf.png\\"],\\"datePublished\\":\\"2023-03-31T00:00:00.000Z\\",\\"dateModified\\":\\"2024-01-12T03:45:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Oragekk\\",\\"url\\":\\"https://orgaekk.me\\"}]}"]]},"headers":[{"level":2,"title":"1. å‰è¨€","slug":"_1-å‰è¨€","link":"#_1-å‰è¨€","children":[]},{"level":2,"title":"2. æ­¥éª¤","slug":"_2-æ­¥éª¤","link":"#_2-æ­¥éª¤","children":[]},{"level":2,"title":"3. ä½¿ç”¨è„šæœ¬","slug":"_3-ä½¿ç”¨è„šæœ¬","link":"#_3-ä½¿ç”¨è„šæœ¬","children":[]},{"level":2,"title":"4. ä½¿ç”¨ç¯å¢ƒå˜é‡","slug":"_4-ä½¿ç”¨ç¯å¢ƒå˜é‡","link":"#_4-ä½¿ç”¨ç¯å¢ƒå˜é‡","children":[]},{"level":2,"title":"5. ä½¿ç”¨æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº","slug":"_5-ä½¿ç”¨æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº","link":"#_5-ä½¿ç”¨æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº","children":[]},{"level":2,"title":"6. åœ¨æœ¬åœ°è°ƒè¯•å‘½ä»¤","slug":"_6-åœ¨æœ¬åœ°è°ƒè¯•å‘½ä»¤","link":"#_6-åœ¨æœ¬åœ°è°ƒè¯•å‘½ä»¤","children":[]},{"level":2,"title":"7. ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨","slug":"_7-ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨","link":"#_7-ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨","children":[]}],"git":{"createdTime":1680252875000,"updatedTime":1705031154000,"contributors":[{"name":"oragekk","email":"oragekk@163.com","commits":1}]},"readingTime":{"minutes":5.23,"words":1568},"filePathRelative":"tutorial/CI:CD/vercel-deploy.md","localizedDate":"2023å¹´3æœˆ31æ—¥","excerpt":"\\n<p>ä¸€æ‹›æ•™ä½ è§£å†³Vercel deployæ—¶æ€»æ˜¯ä»»æ„åˆ†æ”¯éƒ½å¯ä»¥è§¦å‘ï¼Œå¦‚æœä½ çš„é¡¹ç›®æœ‰å¤šä¸ªåˆ†æ”¯ï¼Œå¯ä»¥æŒ‡å®šæŸä¸€ä¸ªæˆ–å‡ ä¸ªæœ‰æäº¤æ—¶è§¦å‘deploy</p>\\n"}`);export{os as comp,rs as data};
